!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.emailMask=n():e.emailMask=n()}(self,(function(){return(()=>{"use strict";var e={d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>p});var t=/@/g,r=[],o=/\./g,c=".",a="",l=/[^\s]/,i=/[^.\s]/,u=/\s/g;function f(e,n,t){var r=[];return e[n]===t?r.push(t):r.push("[]",t),r.push("[]"),r}function s(e,n){return e.split(a).map((function(e){return" "===e?e:n?i:l}))}const p={mask:function(e,n){e=e.replace(u,a);var t=n.placeholderChar,r=n.currentCaretPosition,o=e.indexOf("@"),l=e.lastIndexOf(c),i=l<o?-1:l,p=f(e,o+1,"@"),d=f(e,i-1,c),g=function(e,n){return-1===n?e:e.slice(0,n)}(e,o),h=function(e,n,t,r){var o=a;return-1!==n&&(o=-1===t?e.slice(n+1,e.length):e.slice(n+1,t)),"@"===(o=o.replace(new RegExp("[\\s".concat(r,"]"),"g"),a))?"*":o.length<1?" ":o[o.length-1]===c?o.slice(0,o.length-1):o}(e,o,i,t),m=function(e,n,t,r){var o=a;return-1!==n&&(o=e.slice(n+1,e.length)),0===(o=o.replace(new RegExp("[\\s".concat(t,".]"),"g"),a)).length?e[n-1]===c&&r!==e.length?"*":a:o}(e,i,t,r);return g=s(g),h=s(h),m=s(m,!0),g.concat(p).concat(h).concat(d).concat(m)},pipe:function(e,n){var c,a=n.currentCaretPosition,l=n.rawValue,i=n.previousConformedValue,u=n.placeholderChar,f=e;c=0;var s=(f=f.replace(t,(function(){return 1==++c?"@":""}))).indexOf("@.");if(null===l.match(new RegExp("[^@\\s.".concat(u,"]"))))return"";if(-1!==f.indexOf("..")||-1!==s&&a!==s+1||-1===l.indexOf("@")&&""!==i&&-1!==l.indexOf("."))return!1;var p=f.indexOf("@");return(f.slice(p+1,f.length).match(o)||r).length>1&&"."===f.substr(-1)&&a!==l.length&&(f=f.slice(0,f.length-1)),f}};return n})()}));